#!/usr/bin/env bash

# Function to display information about subdomains
display_subdomain_info() {
    local domain=$1
    local subdomain=$2
    
    # Default subdomains to audit
    local subdomains=("www" "lb-01" "web-01" "web-02")
    
    # If subdomain is specified, update subdomains array
    if [[ -n $subdomain ]]; then
        subdomains=("$subdomain")
    fi
    
    # Loop through subdomains and display information
    for sub in "${subdomains[@]}"; do
        # Get the record type and destination using awk
        local record_info=$(dig +short $sub.$domain | awk '{print $1}')
        
        # Display the information
        echo "The subdomain $sub is a $record_info record and points to $(dig +short $sub.$domain)"
    done
}

# Check if the required arguments are provided
if [[ $# -lt 1 ]]; then
    echo "Error: Missing required arguments"
    exit 1
fi

# Get the domain and subdomain arguments
domain=$1
subdomain=$2

# Call the display_subdomain_info function
display_subdomain_info $domain $subdomain
